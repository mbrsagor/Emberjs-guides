{% load dit_tags static %}

{% static 'icons/cart.svg' as cartIconPath %}
{% static 'icons/store.svg' as storeIconPath %}
{% static 'icons/login.svg' as loginIconPath %}
{% static 'icons/currency_change.svg' as currencyIconPath %}

<style type="text/css">
    .ecomNav .nav-link span {
        {#font-size: 12px;#}
        text-transform: uppercase;
        {#letter-spacing: .8px;#}
    }

</style>
<ul class="nav ecomNav">
    <li class="nav-item">
        {% if basket_count > 0 %}
            <a class="nav-link d-flex flex-column" href="{% abs_url '/basket' %}">
                <img src="{% abs_url cartIconPath %}" style="height: 24px; width: auto" />
                <span class="badge badge-pill badge-primary" style="position: absolute;top: 10px;">{{ basket_count }}</span>

            </a>
        {% else %}
            <a class="nav-link d-flex flex-column" href="{% abs_url '/' %}">
                <img src="{% abs_url cartIconPath %}" style="height: 24px; width: auto" />
{#                <object type="image/svg+xml" data="{% abs_url storeIconPath %}" style="height: 15px; width: auto"></object>#}

            </a>
        {% endif %}

    </li>

    <li class="nav-item dropdown">
        <a class="nav-link d-flex flex-column" title="Currency" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
{#            <object type="image/svg+xml" data="{% abs_url currencyIconPath %}" style="height: 15px; width: auto"></object>#}
            <span>{{ request.currency }}</span>
        </a>
        <div class="dropdown-menu">
            {% url 'change_currency' as changeCurrencyUrl %}
            <form action="{% abs_url changeCurrencyUrl %}" method="post">
                {% csrf_token %}
                <button type="submit" name="currency" value="BDT" class="dropdown-item">BDT</button>
                <button name="currency" value="USD" class="dropdown-item">USD</button>
            </form>

        </div>
    </li>

    {% if request.user.is_authenticated %}
        <li class="nav-item dropdown">
            <a class="nav-link d-flex flex-column" title="{{ username }}" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
{#                <object type="image/svg+xml" data="{% abs_url loginIconPath %}" style="height: 15px; width: auto"></object>#}
                <span>{{ username }}</span>
            </a>
            <div class="dropdown-menu">
               <a class="dropdown-item" href="{% abs_url '/accounts/profile/' %}">Profile</a>
               <a class="dropdown-item" href="{% abs_url '/accounts/orders/' %}">Order History</a>
               <a class="dropdown-item" href="{% abs_url '/accounts/services/' %}">Services</a>
               <a class="dropdown-item" href="{% abs_url '/accounts/logout/' %}">Logout</a>
            </div>
        </li>
    {% else %}
        <li class="nav-item">
            <a class="nav-link d-flex flex-column" href="{% abs_url '/accounts/login/' %}">
{#                <object type="image/svg+xml" data="{% abs_url loginIconPath %}" style="height: 15px; width: auto"></object>#}
                <span>Login</span>
            </a>
        </li>
    {% endif %}


</ul>